<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>HP / VVS Sales Automation</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 24px;
        background-color: #f6f8fb;
        color: #1c1f26;
      }
      h1 {
        margin-top: 0;
      }
      section {
        background: #ffffff;
        border: 1px solid #d9e0eb;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 24px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
      }
      section h2 {
        margin-top: 0;
        margin-bottom: 12px;
      }
      form {
        display: grid;
        gap: 12px;
        margin-top: 12px;
      }
      label {
        display: flex;
        flex-direction: column;
        font-size: 0.9rem;
        color: #39465f;
      }
      label.checkbox {
        flex-direction: row;
        align-items: center;
        gap: 8px;
      }
      label.checkbox input[type='checkbox'] {
        margin-top: 0;
      }
      input,
      select,
      textarea {
        margin-top: 4px;
        padding: 8px;
        border: 1px solid #c6cfdd;
        border-radius: 4px;
        font-size: 0.95rem;
      }
      textarea {
        min-height: 80px;
        resize: vertical;
      }
      button {
        padding: 10px 18px;
        border: none;
        border-radius: 4px;
        background-color: #0f62fe;
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        justify-self: start;
      }
      button:disabled {
        background-color: #99b1ff;
        cursor: not-allowed;
      }
      .status-message {
        font-size: 0.9rem;
        margin-top: 8px;
      }
      .status-message.error {
        color: #c00022;
      }
      .status-message.success {
        color: #0a7d34;
      }
      .hidden-feature {
        display: none !important;
      }
      table {
        border-collapse: collapse;
        width: 100%;
      }
      th,
      td {
        border: 1px solid #d0d7e2;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #eef3fb;
      }
    </style>
  </head>
  <body>
    <h1>HP / VVS Sales Automation</h1>

    <section>
      <h2>Appointment Summary</h2>
      <button id="runSummary">Run Appointment Summary</button>
      <div id="message" class="status-message error"></div>
      <div id="results"></div>
    </section>

    <section>
      <h2>Client Status Submit</h2>
      <form id="clientStatusForm">
        <label>
          Root Appt ID
          <input id="cs-root" name="rootApptId" required />
        </label>
        <label>
          Sales Stage
          <input id="cs-salesStage" name="salesStage" required />
        </label>
        <label>
          Conversion Status
          <input id="cs-conversionStatus" name="conversionStatus" required />
        </label>
        <label>
          Custom Order Status
          <input id="cs-customOrderStatus" name="customOrderStatus" />
        </label>
        <label>
          In Production Status
          <input id="cs-inProductionStatus" name="inProductionStatus" />
        </label>
        <label>
          Center Stone Order Status
          <input id="cs-centerStoneOrderStatus" name="centerStoneOrderStatus" />
        </label>
        <label>
          Next Steps
          <textarea id="cs-nextSteps" name="nextSteps"></textarea>
        </label>
        <label>
          Assisted Rep
          <input id="cs-assistedRep" name="assistedRep" />
        </label>
        <label>
          Updated By
          <input id="cs-updatedBy" name="updatedBy" required />
        </label>
        <button type="submit">Submit Client Status</button>
      </form>
      <div id="clientStatusMessage" class="status-message"></div>
    </section>

    <section>
      <h2>Record Deadline</h2>
      <form id="deadlinesForm">
        <label>
          Root Appt ID
          <input id="dl-root" name="rootApptId" required />
        </label>
        <label>
          Deadline Type
          <select id="dl-type" name="deadlineType" required>
            <option value="3D">3D</option>
            <option value="PROD">PROD</option>
          </select>
        </label>
        <label>
          Deadline Date
          <input id="dl-date" name="deadlineDate" type="date" required />
        </label>
        <label>
          Moved By
          <input id="dl-movedBy" name="movedBy" required />
        </label>
        <label>
          Assisted Rep
          <input id="dl-assistedRep" name="assistedRep" />
        </label>
        <button type="submit">Record Deadline</button>
      </form>
      <div id="deadlinesMessage" class="status-message"></div>
    </section>

    <section id="paymentsPanel" data-feature="payments" style="display: none;">
      <h2>Payments</h2>
      <form id="paymentsRecordForm">
        <label>
          Anchor Type
          <select id="pay-anchorType" name="anchorType">
            <option value="SO">Sales Order</option>
            <option value="APPT">Appointment</option>
          </select>
        </label>
        <label>
          Root Appt ID
          <input id="pay-root" name="rootApptId" />
        </label>
        <label>
          SO Number
          <input id="pay-so" name="soNumber" />
        </label>
        <label>
          Document Type
          <select id="pay-docType" name="docType" required>
            <option value="Deposit Receipt">Deposit Receipt</option>
            <option value="Sales Receipt">Sales Receipt</option>
            <option value="Payment Receipt">Payment Receipt</option>
            <option value="Deposit Invoice">Deposit Invoice</option>
            <option value="Sales Invoice">Sales Invoice</option>
            <option value="Credit Memo">Credit Memo</option>
          </select>
        </label>
        <label>
          Payment Date / Time
          <input id="pay-date" name="paymentDateTime" type="datetime-local" required />
        </label>
        <label>
          Method
          <select id="pay-method" name="method" required>
            <option value="Card">Card</option>
            <option value="Wire">Wire</option>
            <option value="Zelle">Zelle</option>
            <option value="Cash">Cash</option>
            <option value="Check">Check</option>
            <option value="Other">Other</option>
          </select>
        </label>
        <label>
          Amount (Gross)
          <input id="pay-amount" name="amountGross" type="number" step="0.01" min="0" required />
        </label>
        <label>
          Fee Percent
          <input id="pay-feePercent" name="feePercent" type="number" step="0.01" min="0" />
        </label>
        <label>
          Fee Amount
          <input id="pay-feeAmount" name="feeAmount" type="number" step="0.01" min="0" />
        </label>
        <label>
          Reference
          <input id="pay-reference" name="reference" />
        </label>
        <label>
          Notes
          <textarea id="pay-notes" name="notes"></textarea>
        </label>
        <label>
          Line Description
          <input id="pay-lineDesc" name="lineDesc" />
        </label>
        <label>
          Line Quantity
          <input id="pay-lineQty" name="lineQty" type="number" step="1" min="0" />
        </label>
        <label>
          Line Amount
          <input id="pay-lineAmt" name="lineAmt" type="number" step="0.01" min="0" />
        </label>
        <button type="submit">Record Payment</button>
      </form>
      <div id="paymentsRecordMessage" class="status-message"></div>
      <hr />
      <form id="paymentsSummaryForm">
        <label>
          Root Appt ID
          <input id="pay-summary-root" name="summaryRoot" />
        </label>
        <label>
          SO Number
          <input id="pay-summary-so" name="summarySo" />
        </label>
        <button type="submit">Get Payments Summary</button>
      </form>
      <div id="paymentsSummaryMessage" class="status-message"></div>
      <div id="paymentsSummaryResults"></div>
    </section>

    <section id="reportsPanel" data-feature="reports" style="display: none;">
      <h2>Reports - By Status</h2>
      <form id="reportsStatusForm">
        <label>
          Filters
          <input name="filters" placeholder="status:Deposit,brand:HPUSA" />
        </label>
        <button type="submit">Load By Status</button>
      </form>
      <div id="reportsStatusMessage" class="status-message"></div>
      <div id="reportsStatusResults"></div>
      <hr />
      <h2>Reports - By Rep</h2>
      <form id="reportsRepForm">
        <label>
          Filters
          <input name="filters" placeholder="rep:Jamie" />
        </label>
        <button type="submit">Load By Rep</button>
      </form>
      <div id="reportsRepMessage" class="status-message"></div>
      <div id="reportsRepResults"></div>
    </section>

    <section id="dashboardPanel" data-feature="reports" style="display: none;">
      <h2>Dashboard KPIs</h2>
      <form id="dashboardKpiForm">
        <label>
          Date From
          <input name="dateFrom" type="date" />
        </label>
        <label>
          Date To
          <input name="dateTo" type="date" />
        </label>
        <button type="submit">Load KPIs</button>
      </form>
      <div id="dashboardMessage" class="status-message"></div>
      <div id="dashboardResults"></div>
    </section>

    <section data-feature="diamonds">
      <h2>Diamonds Order Approvals</h2>
      <form id="diamondsOrderForm">
        <label>
          Root Appt IDs (one per line)
          <textarea name="rootApptIds" required></textarea>
        </label>
        <label>
          Decision
          <select name="decision" id="diamonds-decision" required>
            <option value="On the Way">On the Way</option>
            <option value="Not Approved">Not Approved</option>
          </select>
        </label>
        <label>
          Ordered By (default)
          <input name="orderedBy" />
        </label>
        <label>
          Ordered Date (default)
          <input name="orderedDate" type="date" />
        </label>
        <label class="checkbox">
          <input name="applyDefaults" type="checkbox" /> Apply defaults to every item
        </label>
        <button type="submit">Apply Decisions</button>
      </form>
      <div id="diamondsOrderMessage" class="status-message"></div>
    </section>

    <section data-feature="diamonds">
      <h2>Diamonds Confirm Delivery</h2>
      <form id="diamondsDeliveryForm">
        <label>
          Root Appt IDs (one per line)
          <textarea name="rootApptIds" required></textarea>
        </label>
        <label>
          Memo / Invoice Date (default)
          <input name="memoDate" type="date" />
        </label>
        <label class="checkbox">
          <input name="applyDefault" type="checkbox" /> Apply default date to every item
        </label>
        <button type="submit">Confirm Delivery</button>
      </form>
      <div id="diamondsDeliveryMessage" class="status-message"></div>
    </section>

    <section data-feature="diamonds">
      <h2>Diamonds Stone Decisions</h2>
      <form id="diamondsDecisionForm">
        <label>
          Root Appt IDs (one per line)
          <textarea name="rootApptIds" required></textarea>
        </label>
        <label>
          Decision
          <select name="decision" required>
            <option value="Keep">Keep</option>
            <option value="Return">Return</option>
            <option value="Replace">Replace</option>
          </select>
        </label>
        <label>
          Decided By (default)
          <input name="decidedBy" />
        </label>
        <label>
          Decided Date (default)
          <input name="decidedDate" type="date" />
        </label>
        <label class="checkbox">
          <input name="applyDefaults" type="checkbox" /> Apply defaults to every item
        </label>
        <button type="submit">Submit Decisions</button>
      </form>
      <div id="diamondsDecisionMessage" class="status-message"></div>
    </section>

    <script type="module" src="./renderer.js"></script>
  </body>
</html>
